local player = game:GetService("Players").LocalPlayer

if player then
    player.CharacterAdded:Connect(function(character)
        local humanoid = character:WaitForChild("Humanoid")

        local speedBoost = character:GetAttribute("SpeedBoost")

        while not speedBoost do
            speedBoost = character:GetAttribute("SpeedBoost")
            wait()
        end

        local walkSpeed = 30
        humanoid.WalkSpeed = walkSpeed

        local humanoidRootPart = character:WaitForChild("HumanoidRootPart")
        if humanoidRootPart then
            local currentVelocity = humanoidRootPart.Velocity
            local newVelocity = humanoidRootPart.CFrame.LookVector * walkSpeed

            newVelocity = Vector3.new(newVelocity.X, currentVelocity.Y, newVelocity.Z)

            humanoidRootPart.Velocity = newVelocity
        end
    end)
end
